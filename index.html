<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event Registration Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&amp;family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Space Grotesk', sans-serif;
    }
    
    .graph-bg {
      background-color: #ffffff;
      background-image: 
        linear-gradient(rgba(99, 102, 241, 0.08) 1px, transparent 1px),
        linear-gradient(90deg, rgba(99, 102, 241, 0.08) 1px, transparent 1px),
        linear-gradient(rgba(99, 102, 241, 0.04) 1px, transparent 1px),
        linear-gradient(90deg, rgba(99, 102, 241, 0.04) 1px, transparent 1px);
      background-size: 100px 100px, 100px 100px, 20px 20px, 20px 20px;
      background-position: -1px -1px, -1px -1px, -1px -1px, -1px -1px;
    }
    
    .card-gradient {
      background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(249,250,251,0.98) 100%);
    }
    
    .event-card {
      transition: all 0.4 cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .event-card:hover {
      transform: translateY(-12px) scale(1.03);
      box-shadow: 0 30px 60px -12px rgba(99, 102, 241, 0.35);
    }
    
    .event-card:hover .event-image {
      transform: scale(1.1);
    }
    
    .shimmer {
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      animation: shimmer 2s infinite;
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    @keyframes rotateIn {
      from {
        opacity: 0;
        transform: rotate(-10deg) scale(0.95);
      }
      to {
        opacity: 1;
        transform: rotate(0) scale(1);
      }
    }
    
    .animate-slide-up {
      animation: slideUp 0.6s ease-out;
    }
    
    .animate-slide-in-left {
      animation: slideInLeft 0.6s ease-out;
    }
    
    .animate-slide-in-right {
      animation: slideInRight 0.6s ease-out;
    }
    
    .animate-scale-in {
      animation: scaleIn 0.5s ease-out;
    }
    
    .animate-rotate-in {
      animation: rotateIn 0.6s ease-out;
    }
    
    .float-animation {
      animation: float 3s ease-in-out infinite;
    }
    
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.3); }
      50% { box-shadow: 0 0 40px rgba(99, 102, 241, 0.6); }
    }
    
    .pulse-glow {
      animation: pulse-glow 2s ease-in-out infinite;
    }
    
    .gradient-text {
      background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .modal-overlay {
      backdrop-filter: blur(8px);
      background: rgba(0, 0, 0, 0.5);
    }
    
    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }
    
    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    
    .tag {
      background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    }
    
    .status-open {
      background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
    }
    
    .status-closed {
      background: linear-gradient(135deg, #ef4444 0%, #f87171 100%);
    }
    
    /* Registration form animated background */
    .form-bg-animated {
      position: relative;
      overflow: hidden;
    }
    
    .form-bg-animated::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
      background-size: 400% 400%;
      animation: gradient-shift 15s ease infinite;
      opacity: 0.1;
      pointer-events: none;
      z-index: 0;
    }
    
    @keyframes gradient-shift {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }
    
    .form-bg-animated > * {
      position: relative;
      z-index: 1;
    }
    
    .form-field-hover {
      transition: all 0.3s ease;
    }
    
    .form-field-hover:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(99, 102, 241, 0.2);
    }
    
    .form-field-hover:focus {
      box-shadow: 0 12px 24px rgba(99, 102, 241, 0.3) !important;
      transform: translateY(-2px);
    }
    
    .help-card-hover {
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .help-card-hover::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
      transform: rotate(45deg);
      animation: shine 3s infinite;
      pointer-events: none;
    }
    
    @keyframes shine {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }
    
    .help-card-hover:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 12px 28px rgba(0, 0, 0, 0.15);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
      background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4);
    }
    
    .input-field {
      transition: all 0.3s ease;
    }
    
    .input-field:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full">
  <div id="app" class="h-full w-full graph-bg overflow-auto"><!-- Header -->
   <header class="sticky top-0 z-40 bg-white/80 backdrop-blur-lg border-b border-indigo-100 shadow-lg">
    <div class="max-w-7xl mx-auto px-4 py-4">
     <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
       <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg hover:shadow-2xl transform hover:scale-110 transition-all duration-300">
        <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
        </svg>
       </div>
       <div>
        <h1 id="portal-title" class="text-2xl font-bold gradient-text">E-Cell FOET</h1>
        <p class="text-sm text-gray-500">Entrepreneurship Cell</p>
       </div>
      </div>
      <div class="flex items-center gap-4">
       <div class="hidden md:flex items-center gap-2 px-4 py-2 bg-indigo-50 rounded-full"><span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span> <span class="text-sm font-medium text-indigo-700">Registrations Open</span>
       </div><a href="mailto:events@ecellfoet.com" id="contact-email-link" class="flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-full transition-all duration-300 transform hover:scale-105">
        <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
        </svg><span class="text-sm font-medium text-gray-700 hidden sm:inline" id="contact-email-text">events@ecellfoet.com</span> </a>
      </div>
     </div>
    </div>
   </header><!-- Hero Section -->
   <section class="relative py-16 px-4 overflow-hidden">
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
     <div class="absolute -top-40 -right-40 w-80 h-80 bg-indigo-200 rounded-full opacity-30 blur-3xl float-animation"></div>
     <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200 rounded-full opacity-30 blur-3xl float-animation" style="animation-delay: 1s;"></div>
    </div>
    <div class="max-w-4xl mx-auto text-center relative z-10">
     <div class="inline-flex items-center gap-2 px-4 py-2 bg-indigo-100 rounded-full mb-6"><span class="text-2xl">üöÄ</span> <span class="text-sm font-semibold text-indigo-700">Season 2024-25</span>
     </div>
     <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">Events &amp; <span class="gradient-text">Activities</span></h2>
     <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-6">Join our exciting lineup of events designed to inspire, educate, and connect aspiring entrepreneurs. From intensive workshops to networking sessions, we have something for everyone in the entrepreneurial journey.</p>
     <div class="flex items-center justify-center gap-2 text-sm font-semibold text-indigo-600"><span class="inline-block px-4 py-2 bg-indigo-100 rounded-full">üöÄ UOL eCell FOET</span>
     </div>
    </div>
   </section><!-- Events Grid -->
   <section class="max-w-7xl mx-auto px-4 pb-20">
    <div class="flex items-center justify-between mb-8">
     <h3 class="text-2xl font-bold text-gray-900">Upcoming Events</h3>
     <div class="flex items-center gap-2"><span class="text-sm text-gray-500">Total Registrations:</span> <span id="total-registrations" class="px-3 py-1 bg-indigo-100 text-indigo-700 font-bold rounded-full">0</span>
     </div>
    </div>
    <div id="events-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8"><!-- Events will be rendered here -->
    </div>
   </section><!-- Event Details Modal -->
   <div id="event-modal" class="fixed inset-0 z-50 hidden">
    <div class="modal-overlay absolute inset-0" onclick="closeModal()"></div>
    <div class="relative h-full flex items-center justify-center p-4">
     <div class="bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90%] overflow-hidden relative"><button onclick="closeModal()" class="absolute top-4 right-4 z-10 w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center transition-all transform hover:scale-110 duration-300">
       <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
       </svg></button>
      <div id="modal-content" class="overflow-y-auto scrollbar-hide max-h-[90vh]"><!-- Modal content will be rendered here -->
      </div>
     </div>
    </div>
   </div><!-- Registration Modal -->
   <div id="registration-modal" class="fixed inset-0 z-50 hidden">
    <div class="modal-overlay absolute inset-0" onclick="closeRegistrationModal()"></div>
    <div class="relative h-full flex items-center justify-center p-4">
     <div class="form-bg-animated bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90%] overflow-hidden relative"><button onclick="closeRegistrationModal()" class="absolute top-4 right-4 z-10 w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center transition-all transform hover:scale-110 duration-300">
       <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
       </svg></button>
      <div id="registration-content" class="overflow-y-auto scrollbar-hide max-h-[90vh] p-8"><!-- Registration form will be rendered here -->
      </div>
     </div>
    </div>
   </div><!-- Toast Container -->
   <div id="toast-container" class="fixed bottom-4 right-4 z-50 space-y-2"></div>
  </div>
  <script>
    // Default configuration
    const defaultConfig = {
      portal_title: 'E-Cell FOET',
      contact_email: 'events@ecellfoet.com',
      primary_color: '#6366f1',
      secondary_color: '#8b5cf6',
      background_color: '#ffffff',
      text_color: '#1f2937',
      accent_color: '#ec4899'
    };

    let config = { ...defaultConfig };
    let registrations = [];
    let currentEventId = null;

    // Events Data
    const eventsData = [
      {
        id: 'innovate-iq',
        name: 'InnovateIQ',
        tagline: 'Entrepreneurial Quiz Championship',
        emoji: 'üß†',
        image: 'url(https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&q=80)',
        description: 'InnovateIQ is an engaging entrepreneurial quiz competition designed to challenge sharp minds and spark innovative thinking. It brings together aspiring entrepreneurs, business enthusiasts, and problem-solvers who are eager to test their knowledge of startups, innovations, and the entrepreneurial ecosystem. With InnovateIQ, we aim to foster a culture of curiosity, inspire young innovators, and celebrate the spirit of entrepreneurship through healthy competition.',
        venue: 'Main Auditorium, Innovation Center',
        date: '2025-02-15',
        time: '10:00 AM - 4:00 PM',
        registrationOpen: '2024-01-01',
        registrationClose: '2025-12-31',
        teamSize: '2-4 members',
        prizes: ['‚Çπ25,000 Cash Prize', 'Internship Opportunities', 'Certificates'],
        judges: [
          { name: 'Dr. Priya Sharma', designation: 'CEO, TechVentures' },
          { name: 'Rahul Mehta', designation: 'Partner, InnovateFund' },
          { name: 'Anita Desai', designation: 'Director, StartupIndia' }
        ],
        coordinators: [
          { name: 'Arjun Kumar', phone: '+91 98765 43210', email: 'arjun@innovationhub.com' },
          { name: 'Sneha Patel', phone: '+91 98765 43211', email: 'sneha@innovationhub.com' }
        ],
        participants: 156,
        winners: ['Team Nexus (2024)', 'Team Pioneers (2023)'],
        highlights: ['3 Rounds', 'Buzzer Round', 'Case Study Analysis'],
        rulebook: {
          eligibility: 'Open to all undergraduate and postgraduate students from recognized institutions. Participants must be enrolled in the current academic year.',
          rules: [
            'Teams must consist of 2-4 members from the same institution.',
            'Each member must carry a valid college ID and government-issued identification.',
            'Quiz will consist of 3 rounds: Prelim (MCQ), Buzzer Round, and Case Study Analysis.',
            'Mobile phones and other electronic devices are prohibited except for coordinators.',
            'Answers must be written in English.',
            'Disqualification will result from any form of misconduct or cheating.'
          ],
          guidelines: [
            'Arrive 30 minutes before the event start time.',
            'Wear appropriate formal attire.',
            'Bring all required documents for registration.',
            'Follow the instructions of the organizing committee.',
            'Respect the venue rules and regulations.'
          ],
          prizeDistribution: 'Prizes will be awarded to top 3 teams. Winners will be announced immediately after the event.',
          registrationFee: 'Free for students (Registration via this portal only)'
        }
      },
      {
        id: 'nirman-1',
        name: 'Nirman 1.0',
        tagline: 'Flagship Startup Pitch Competition',
        emoji: 'üöÄ',
        image: 'url(https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&q=80)',
        description: 'Nirman 1.0 is our flagship startup pitch competition bringing together aspiring entrepreneurs to present innovative ideas to industry experts, investors, and successful entrepreneurs. This is your chance to transform your vision into reality, receive valuable feedback, and potentially secure funding for your startup journey.',
        venue: 'Conference Hall B, Business School',
        date: '2025-03-01',
        time: '9:00 AM - 6:00 PM',
        registrationOpen: '2024-01-01',
        registrationClose: '2025-12-31',
        teamSize: '1-5 members',
        prizes: ['‚Çπ1,00,000 Seed Funding', 'Incubation Support', 'Mentorship Program'],
        judges: [
          { name: 'Vikram Singh', designation: 'Angel Investor' },
          { name: 'Dr. Meera Kapoor', designation: 'Founder, EduTech Solutions' },
          { name: 'Amit Joshi', designation: 'VC Partner, GrowthCap' }
        ],
        coordinators: [
          { name: 'Rohan Verma', phone: '+91 98765 43212', email: 'rohan@innovationhub.com' },
          { name: 'Priya Singh', phone: '+91 98765 43213', email: 'priya@innovationhub.com' }
        ],
        participants: 89,
        winners: ['EcoSmart (2024)', 'HealthBridge (2023)'],
        highlights: ['Elevator Pitch', 'Investor Q&A', 'Live Demo'],
        rulebook: {
          eligibility: 'Open to all students, professionals, and entrepreneurs. Teams must include at least one enrolled student.',
          rules: [
            'Team size: 1-5 members per startup idea.',
            'Each team gets 10 minutes for pitch + 5 minutes Q&A.',
            'Ideas must be innovative and viable.',
            'No plagiarism - original ideas only.',
            'Teams cannot pitch the same idea multiple times.'
          ],
          guidelines: [
            'Prepare a 2-minute elevator pitch as backup.',
            'Bring a one-page business summary.',
            'Use presentation tools if needed (submit in advance).',
            'Maintain professional decorum during the event.',
            'No offensive or inappropriate content allowed.'
          ],
          prizeDistribution: 'Top 3 startups receive funding, mentorship, and incubation support. Runners-up get certificates and networking opportunities.',
          registrationFee: 'Free for students | ‚Çπ500 for professionals'
        }
      },
      {
        id: 'vision-x',
        name: 'VisionX',
        tagline: 'Research Poster Design Competition',
        emoji: 'üé®',
        image: 'url(https://images.unsplash.com/photo-1561070791-2526d30994b5?w=800&q=80)',
        description: 'VisionX is a premier research poster design competition that celebrates the fusion of science and art. Showcase your research findings through visually compelling posters that communicate complex ideas effectively. Perfect for researchers, students, and academics looking to present their work in an engaging format.',
        venue: 'Exhibition Hall, Research Center',
        date: '2025-02-20',
        time: '11:00 AM - 5:00 PM',
        registrationOpen: '2024-01-01',
        registrationClose: '2025-12-31',
        teamSize: '1-3 members',
        prizes: ['‚Çπ15,000 Cash Prize', 'Publication Opportunity', 'Research Grant'],
        judges: [
          { name: 'Prof. Rajesh Iyer', designation: 'Dean of Research' },
          { name: 'Dr. Sunita Rao', designation: 'Senior Scientist, CSIR' },
          { name: 'Karthik Nair', designation: 'Design Director, CreativeHub' }
        ],
        coordinators: [
          { name: 'Divya Menon', phone: '+91 98765 43214', email: 'divya@innovationhub.com' },
          { name: 'Aakash Sharma', phone: '+91 98765 43215', email: 'aakash@innovationhub.com' }
        ],
        participants: 72,
        winners: ['AI in Healthcare Poster (2024)', 'Sustainable Energy Research (2023)'],
        highlights: ['Visual Storytelling', 'Expert Feedback', 'Networking Session'],
        rulebook: {
          eligibility: 'Open to undergraduate, postgraduate students and researchers. Original research work only.',
          rules: [
            'Poster size: A1 (594 x 841 mm) or A0 (841 x 1189 mm).',
            'Vertical orientation preferred.',
            'Max 3 members per team.',
            'Research must be completed in last 2 years.',
            'Posters must be in English.'
          ],
          guidelines: [
            'Include title, author names, and institution clearly.',
            'Structure: Introduction, Methodology, Results, Conclusion.',
            'Use minimum 18pt font for readability.',
            'Include visuals, graphs, and diagrams.',
            'Bring printed posters to the venue.',
            'Poster presentation: 15 minutes per team.'
          ],
          prizeDistribution: 'Cash prizes for top 3 posters. Selected posters will be published in the research journal.',
          registrationFee: 'Free for students | ‚Çπ1000 for researchers'
        }
      },
      {
        id: 'cwrap',
        name: 'C-Wrap',
        tagline: 'Creative Wrap-Up Challenge',
        emoji: 'üéØ',
        image: 'url(https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&q=80)',
        description: 'C-Wrap is an innovative challenge where participants wrap up their creative solutions to real-world problems. This unique competition tests your ability to synthesize ideas, present concise solutions, and think outside the box. Join us for an exciting journey of creativity and problem-solving!',
        venue: 'Innovation Lab, Tech Park',
        date: '2025-03-10',
        time: '2:00 PM - 8:00 PM',
        registrationOpen: '2024-01-01',
        registrationClose: '2025-12-31',
        teamSize: '2-6 members',
        prizes: ['‚Çπ20,000 Cash Prize', 'Tech Gadgets', 'Industry Exposure'],
        judges: [
          { name: 'Neha Gupta', designation: 'Innovation Lead, Google' },
          { name: 'Sameer Khan', designation: 'Product Manager, Microsoft' },
          { name: 'Ritu Sharma', designation: 'Design Thinking Expert' }
        ],
        coordinators: [
          { name: 'Varun Reddy', phone: '+91 98765 43216', email: 'varun@innovationhub.com' },
          { name: 'Anjali Nair', phone: '+91 98765 43217', email: 'anjali@innovationhub.com' }
        ],
        participants: 134,
        winners: ['Team Catalyst (2024)', 'Team Innovators (2023)'],
        highlights: ['Speed Ideation', 'Prototype Sprint', 'Pitch Battle'],
        rulebook: {
          eligibility: 'Open to all students. Multi-disciplinary teams welcome.',
          rules: [
            'Team size: 2-6 members.',
            'Multiple ideas can be submitted by same team.',
            'Solution must address real-world problem.',
            'No plagiarism - 100% original content.',
            'Time limit: 5 minutes presentation.'
          ],
          guidelines: [
            'Problem statement will be provided on the day.',
            'Preparation time: 3 hours on-site.',
            'Create prototype or mockup if possible.',
            'Focus on creativity and feasibility.',
            'Be ready to explain your solution clearly.',
            'Props and visual aids are allowed.'
          ],
          prizeDistribution: 'Top 3 solutions receive cash prizes, gadgets, and industry partnership opportunities.',
          registrationFee: 'Free for all participants'
        }
      }
    ];

    // Initialize Data SDK
    const dataHandler = {
      onDataChanged(data) {
        registrations = data;
        updateRegistrationCounts();
      }
    };

    // Render events
    function renderEvents() {
      const grid = document.getElementById('events-grid');
      grid.innerHTML = eventsData.map((event, index) => {
        const isOpen = isRegistrationOpen(event);
        const eventRegs = registrations.filter(r => r.event_id === event.id).length;
        const delay = index * 150;
        
        return `
          <div class="event-card card-gradient rounded-3xl shadow-xl overflow-hidden border border-gray-100 animate-slide-up" style="animation-delay: ${delay}ms">
            <div class="relative h-48 overflow-hidden bg-gradient-to-br from-indigo-400 to-purple-600">
              <div class="event-image absolute inset-0 transition-all duration-500 bg-cover bg-center" style="background-image: ${event.image}"></div>
              <div class="absolute inset-0 bg-black/30 hover:bg-black/20 transition-all duration-300"></div>
              <div class="absolute top-4 left-4">
                <span class="status-open px-3 py-1 rounded-full text-xs font-bold text-white animate-pulse animate-scale-in">
                  üü¢ Open
                </span>
              </div>
              <div class="absolute top-4 right-4">
                <span class="text-4xl animate-rotate-in inline-block" style="animation-delay: ${delay + 100}ms">${event.emoji}</span>
              </div>
              <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/50 to-transparent p-4">
                <h3 class="text-2xl font-bold text-white mb-1 animate-slide-in-left" style="animation-delay: ${delay + 50}ms">${event.name}</h3>
                <p class="text-white/80 text-sm animate-slide-in-right" style="animation-delay: ${delay + 100}ms">${event.tagline}</p>
              </div>
            </div>
            
            <div class="p-6 space-y-4">
              <p class="text-gray-600 text-sm line-clamp-2 animate-slide-up" style="animation-delay: ${delay + 150}ms">${event.description.substring(0, 150)}...</p>
              
              <div class="grid grid-cols-2 gap-3 animate-slide-up" style="animation-delay: ${delay + 200}ms">
                <div class="flex items-center gap-2 text-sm text-gray-600 hover:text-indigo-600 transition-colors duration-300 group">
                  <svg class="w-4 h-4 text-indigo-500 group-hover:scale-125 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                  </svg>
                  <span>${formatDate(event.date)}</span>
                </div>
                <div class="flex items-center gap-2 text-sm text-gray-600 hover:text-indigo-600 transition-colors duration-300 group">
                  <svg class="w-4 h-4 text-indigo-500 group-hover:scale-125 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                  </svg>
                  <span class="truncate">${event.venue.split(',')[0]}</span>
                </div>
                <div class="flex items-center gap-2 text-sm text-gray-600 hover:text-indigo-600 transition-colors duration-300 group">
                  <svg class="w-4 h-4 text-indigo-500 group-hover:scale-125 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/>
                  </svg>
                  <span>${event.participants + eventRegs} Participants</span>
                </div>
                <div class="flex items-center gap-2 text-sm text-gray-600 hover:text-indigo-600 transition-colors duration-300 group">
                  <svg class="w-4 h-4 text-indigo-500 group-hover:scale-125 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  <span>${event.time.split(' - ')[0]}</span>
                </div>
              </div>
              
              <div class="flex flex-wrap gap-2 animate-slide-up" style="animation-delay: ${delay + 250}ms">
                ${event.highlights.map((h, i) => `<span class="tag px-2 py-1 rounded-full text-xs text-white hover:shadow-lg transform hover:scale-110 transition-all duration-300 cursor-default" style="animation-delay: ${delay + 250 + i * 50}ms">${h}</span>`).join('')}
              </div>
              
              <div class="flex flex-col sm:flex-row gap-3 animate-slide-up" style="animation-delay: ${delay + 300}ms">
                <button onclick="openEventModal('${event.id}')" class="flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-xl font-semibold text-gray-700 transition-all transform hover:scale-105 duration-300 flex items-center justify-center gap-2 group">
                  <svg class="w-4 h-4 group-hover:rotate-180 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  <span>Details</span>
                </button>
                <button onclick="openRegistrationModal('${event.id}')" class="flex-1 btn-primary px-4 py-3 rounded-xl font-semibold text-white flex items-center justify-center gap-2 transform hover:scale-105 transition-all duration-300 group">
                  <svg class="w-4 h-4 group-hover:rotate-12 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                  </svg>
                  <span>Register</span>
                </button>
              </div>
            </div>
          </div>
        `;
      }).join('');
    }

    // Open event details modal
    function openEventModal(eventId) {
      const event = eventsData.find(e => e.id === eventId);
      if (!event) return;
      
      currentEventId = eventId;
      const eventRegs = registrations.filter(r => r.event_id === eventId).length;
      const isOpen = isRegistrationOpen(event);
      
      const modalContent = document.getElementById('modal-content');
      modalContent.innerHTML = `
        <div class="relative">
          <div class="h-56 relative overflow-hidden">
            <div class="absolute inset-0" style="background: ${event.image}"></div>
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
            <div class="absolute bottom-6 left-6 right-6">
              <div class="flex items-center gap-3 mb-2">
                <span class="text-5xl">${event.emoji}</span>
                <div>
                  <h2 class="text-3xl font-bold text-white">${event.name}</h2>
                  <p class="text-white/80">${event.tagline}</p>
                </div>
              </div>
            </div>
          </div>
          
          <div class="p-6 space-y-6">
            <!-- Stats Row -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-4 text-center">
                <div class="text-3xl font-bold text-indigo-600">${event.participants + eventRegs}</div>
                <div class="text-sm text-gray-600">Participants</div>
              </div>
              <div class="bg-gradient-to-br from-pink-50 to-rose-50 rounded-2xl p-4 text-center">
                <div class="text-3xl font-bold text-pink-600">${event.winners.length}</div>
                <div class="text-sm text-gray-600">Past Winners</div>
              </div>
              <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-4 text-center">
                <div class="text-3xl font-bold text-green-600">${event.judges.length}</div>
                <div class="text-sm text-gray-600">Judges</div>
              </div>
              <div class="bg-gradient-to-br from-amber-50 to-yellow-50 rounded-2xl p-4 text-center">
                <div class="text-3xl font-bold text-amber-600">${event.coordinators.length}</div>
                <div class="text-sm text-gray-600">Coordinators</div>
              </div>
            </div>
            
            <!-- Description -->
            <div class="bg-gray-50 rounded-2xl p-5">
              <h3 class="font-bold text-gray-900 mb-2 flex items-center gap-2">
                <svg class="w-5 h-5 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                About the Event
              </h3>
              <p class="text-gray-600 leading-relaxed">${event.description}</p>
            </div>
            
            <!-- Event Details -->
            <div class="grid md:grid-cols-2 gap-4">
              <div class="bg-white border border-gray-200 rounded-2xl p-5">
                <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                  <svg class="w-5 h-5 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                  </svg>
                  Event Schedule
                </h3>
                <div class="space-y-3">
                  <div class="flex justify-between">
                    <span class="text-gray-600">Date</span>
                    <span class="font-semibold text-gray-900">${formatDate(event.date)}</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-600">Time</span>
                    <span class="font-semibold text-gray-900">${event.time}</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-600">Team Size</span>
                    <span class="font-semibold text-gray-900">${event.teamSize}</span>
                  </div>
                </div>
              </div>
              
              <div class="bg-white border border-gray-200 rounded-2xl p-5">
                <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                  <svg class="w-5 h-5 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                  </svg>
                  Venue & Registration
                </h3>
                <div class="space-y-3">
                  <div class="flex justify-between">
                    <span class="text-gray-600">Venue</span>
                    <span class="font-semibold text-gray-900 text-right">${event.venue}</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-600">Opens</span>
                    <span class="font-semibold text-green-600">${formatDate(event.registrationOpen)}</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-600">Closes</span>
                    <span class="font-semibold text-red-600">${formatDate(event.registrationClose)}</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Prizes -->
            <div class="bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl p-5 text-white">
              <h3 class="font-bold mb-4 flex items-center gap-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                Prizes & Rewards
              </h3>
              <div class="flex flex-wrap gap-3">
                ${event.prizes.map((prize, i) => `
                  <div class="bg-white/20 backdrop-blur rounded-xl px-4 py-2 flex items-center gap-2">
                    <span class="text-xl">${['ü•á', 'ü•à', 'ü•â'][i] || 'üèÜ'}</span>
                    <span class="font-medium">${prize}</span>
                  </div>
                `).join('')}
              </div>
            </div>
            
            <!-- Judges -->
            <div class="bg-white border border-gray-200 rounded-2xl p-5">
              <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                <svg class="w-5 h-5 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
                </svg>
                Judges Panel
              </h3>
              <div class="grid md:grid-cols-3 gap-4">
                ${event.judges.map(judge => `
                  <div class="bg-gray-50 rounded-xl p-4 text-center">
                    <div class="w-16 h-16 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-full mx-auto mb-3 flex items-center justify-center">
                      <span class="text-2xl text-white font-bold">${judge.name.charAt(0)}</span>
                    </div>
                    <h4 class="font-semibold text-gray-900">${judge.name}</h4>
                    <p class="text-sm text-gray-600">${judge.designation}</p>
                  </div>
                `).join('')}
              </div>
            </div>
            
            <!-- Past Winners -->
            <div class="bg-amber-50 rounded-2xl p-5">
              <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                <svg class="w-5 h-5 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                </svg>
                Past Winners
              </h3>
              <div class="flex flex-wrap gap-3">
                ${event.winners.map(winner => `
                  <div class="bg-white rounded-xl px-4 py-2 border border-amber-200 flex items-center gap-2">
                    <span class="text-xl">üèÜ</span>
                    <span class="font-medium text-gray-900">${winner}</span>
                  </div>
                `).join('')}
              </div>
            </div>
            
            <!-- Student Coordinators -->
            <div class="bg-white border border-gray-200 rounded-2xl p-5">
              <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
                <svg class="w-5 h-5 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/>
                </svg>
                Student Coordinators (Helpline)
              </h3>
              <div class="grid md:grid-cols-2 gap-4">
                ${event.coordinators.map(coord => `
                  <div class="bg-gray-50 rounded-xl p-4 hover:bg-indigo-50 transition-colors duration-300">
                    <h4 class="font-semibold text-gray-900 mb-2">${coord.name}</h4>
                    <div class="space-y-2">
                      <a href="tel:${coord.phone}" class="flex items-center gap-2 text-sm text-gray-600 hover:text-indigo-600 transition-colors duration-300">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                        </svg>
                        ${coord.phone}
                      </a>
                      <a href="mailto:${coord.email}" class="flex items-center gap-2 text-sm text-gray-600 hover:text-indigo-600 transition-colors duration-300">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                        ${coord.email}
                      </a>
                    </div>
                  </div>
                `).join('')}
              </div>
            </div>
            
            <!-- Rulebook Section -->
            <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-5 border border-blue-200">
              <h3 class="font-bold text-gray-900 mb-4 flex items-center gap-2 text-lg">
                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C6.5 6.253 2 10.998 2 17.25m20-11.002c5.5 0 10 4.748 10 11.002M12 6.253N12 3m0 3.002C6.502 9.254 2 13.999 2 20.25m20-11.002c5.498 0 10-4.745 10-11.002"/>
                </svg>
                üìñ Rulebook & Guidelines
              </h3>
              
              <div class="space-y-4">
                <div class="bg-white rounded-xl p-4 hover:shadow-md transition-shadow duration-300">
                  <h4 class="font-semibold text-gray-900 mb-2 text-blue-600">‚úì Eligibility</h4>
                  <p class="text-sm text-gray-700">${event.rulebook.eligibility}</p>
                </div>
                
                <div class="bg-white rounded-xl p-4 hover:shadow-md transition-shadow duration-300">
                  <h4 class="font-semibold text-gray-900 mb-2 text-blue-600">ÔøΩÔøΩÔøΩÔøΩÔøΩ Rules</h4>
                  <ul class="text-sm text-gray-700 space-y-1">
                    ${event.rulebook.rules.map(rule => `<li class="flex gap-2">‚Ä¢ <span>${rule}</span></li>`).join('')}
                  </ul>
                </div>
                
                <div class="bg-white rounded-xl p-4 hover:shadow-md transition-shadow duration-300">
                  <h4 class="font-semibold text-gray-900 mb-2 text-blue-600">üí° Guidelines</h4>
                  <ul class="text-sm text-gray-700 space-y-1">
                    ${event.rulebook.guidelines.map(guideline => `<li class="flex gap-2">‚úì <span>${guideline}</span></li>`).join('')}
                  </ul>
                </div>
                
                <div class="bg-white rounded-xl p-4 hover:shadow-md transition-shadow duration-300 border-2 border-amber-200">
                  <h4 class="font-semibold text-gray-900 mb-1 text-amber-600">üèÜ Prize Distribution</h4>
                  <p class="text-sm text-gray-700">${event.rulebook.prizeDistribution}</p>
                </div>
                
                <div class="bg-white rounded-xl p-4 hover:shadow-md transition-shadow duration-300 border-2 border-green-200">
                  <h4 class="font-semibold text-gray-900 mb-1 text-green-600">üí≥ Registration Fee</h4>
                  <p class="text-sm text-gray-700">${event.rulebook.registrationFee}</p>
                </div>
              </div>
            </div>
            
            
            
            <!-- Action Buttons -->
            <div class="flex flex-wrap gap-4">
              <button onclick="addToCalendar('${event.id}')" class="flex-1 min-w-[200px] px-6 py-4 bg-gray-100 hover:bg-gray-200 rounded-xl font-semibold text-gray-700 transition-all flex items-center justify-center gap-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
                Add to Google Calendar
              </button>
              <button onclick="closeModal(); openRegistrationModal('${event.id}')" class="flex-1 min-w-[200px] btn-primary px-6 py-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 ${!isOpen ? 'opacity-50 cursor-not-allowed' : ''}" ${!isOpen ? 'disabled' : ''}>
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                </svg>
                ${isOpen ? 'Register Now' : 'Registration Closed'}
              </button>
            </div>
          </div>
        </div>
      `;
      
      document.getElementById('event-modal').classList.remove('hidden');
    }

    // Close modal
    function closeModal() {
      document.getElementById('event-modal').classList.add('hidden');
      currentEventId = null;
    }

    // Open registration modal
    function openRegistrationModal(eventId) {
      const event = eventsData.find(e => e.id === eventId);
      if (!event || !isRegistrationOpen(event)) return;
      
      currentEventId = eventId;
      
      const content = document.getElementById('registration-content');
      content.innerHTML = `
        <div class="text-center mb-6">
          <span class="text-5xl mb-3 block">${event.emoji}</span>
          <h2 class="text-2xl font-bold text-gray-900">${event.name}</h2>
          <p class="text-gray-600">Registration Form</p>
        </div>
        
        <form id="registration-form" class="space-y-4">
          <div class="animate-slide-up">
            <label for="participant_name" class="block text-sm font-medium text-gray-700 mb-2">üë§ Full Name *</label>
            <input type="text" id="participant_name" name="participant_name" required
              class="input-field w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none text-base sm:text-sm"
              placeholder="Enter your full name">
          </div>
          
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 animate-slide-up" style="animation-delay: 50ms">
            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 mb-2">üìß Email Address *</label>
              <input type="email" id="email" name="email" required
                class="input-field w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none text-base sm:text-sm"
                placeholder="your.email@example.com">
            </div>
            
            <div>
              <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">‚òéÔ∏è Phone Number *</label>
              <input type="tel" id="phone" name="phone" required
                class="input-field w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none text-base sm:text-sm"
                placeholder="+91 98765 43210">
            </div>
          </div>
          
          <div class="animate-slide-up" style="animation-delay: 100ms">
            <label for="college" class="block text-sm font-medium text-gray-700 mb-2">üè´ College/Institution *</label>
            <input type="text" id="college" name="college" required
              class="input-field w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none text-base sm:text-sm"
              placeholder="Enter your college name">
          </div>
          
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 animate-slide-up" style="animation-delay: 150ms">
            <div>
              <label for="course" class="block text-sm font-medium text-gray-700 mb-2">üìö Course/Degree *</label>
              <input type="text" id="course" name="course" required
                class="input-field w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none text-base sm:text-sm"
                placeholder="e.g., B.Tech, MBA, B.Com">
            </div>
            
            <div>
              <label for="year" class="block text-sm font-medium text-gray-700 mb-2">üìÖ Year of Study *</label>
              <select id="year" name="year" required
                class="input-field w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none bg-white text-base sm:text-sm">
                <option value="">Select Year</option>
                <option value="1st">1st Year</option>
                <option value="2nd">2nd Year</option>
                <option value="3rd">3rd Year</option>
                <option value="4th">4th Year</option>
                <option value="Postgraduate">Postgraduate</option>
              </select>
            </div>
          </div>
          
          <div class="animate-slide-up" style="animation-delay: 200ms">
            <label for="team_name" class="block text-sm font-medium text-gray-700 mb-2">ÔøΩÔøΩ Team Name *</label>
            <input type="text" id="team_name" name="team_name" required
              class="input-field w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none text-base sm:text-sm"
              placeholder="Enter your team name">
          </div>
          
          <div class="animate-slide-up" style="animation-delay: 250ms">
            <label for="team_size" class="block text-sm font-medium text-gray-700 mb-2">üî¢ Team Size *</label>
            <select id="team_size" name="team_size" required
              class="input-field w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none bg-white text-base sm:text-sm"
              onchange="updateMembersFields()">
              <option value="">Select Team Size</option>
              <option value="1">1 (Individual)</option>
              <option value="2">2 Members</option>
              <option value="3">3 Members</option>
              <option value="4">4 Members</option>
              <option value="5">5 Members</option>
              <option value="6">6 Members</option>
            </select>
          </div>
          
          <!-- Team Members Details Section -->
          <div id="members-section" class="hidden bg-indigo-50 rounded-xl p-4 border-2 border-indigo-200 animate-slide-up" style="animation-delay: 300ms">
            <h4 class="font-bold text-gray-900 mb-4 text-indigo-600 text-sm sm:text-base">üë¨ Team Members Details</h4>
            <div id="members-container" class="space-y-4">
              <!-- Members fields will be added here dynamically -->
            </div>
          </div>
          
          <div class="bg-blue-50 rounded-xl p-4 text-xs sm:text-sm text-blue-700 border border-blue-200 animate-slide-up" style="animation-delay: 350ms">
            <p class="flex items-start gap-2">
              <svg class="w-5 h-5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <span id="team-size-hint">Team Size: varies by event</span>
            </p>
          </div>
          
          <div class="bg-green-50 rounded-xl p-4 border border-green-200 animate-slide-up" style="animation-delay: 400ms">
            <p class="text-xs sm:text-sm text-green-700 flex items-start gap-2">
              <svg class="w-4 h-4 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <span>All fields are required for successful registration</span>
            </p>
          </div>
          
          <button type="submit" id="submit-btn" class="w-full btn-primary px-6 py-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 transform hover:scale-105 transition-all duration-300 text-base sm:text-sm animate-slide-up" style="animation-delay: 450ms">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            <span>Submit Registration</span>
          </button>
          
          <!-- Help Section -->
          <div class="mt-8 pt-6 border-t-2 border-gray-200 animate-slide-up" style="animation-delay: 500ms">
            <h4 class="font-bold text-gray-900 mb-4 flex items-center gap-2">
              <span class="text-2xl">‚ùì</span>
              Need Help?
            </h4>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
              <a href="tel:+919876543210" class="help-card-hover p-4 border-2 border-indigo-200 rounded-xl hover:border-indigo-500 hover:bg-indigo-50 transition-all duration-300">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 bg-indigo-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                    </svg>
                  </div>
                  <div>
                    <h5 class="font-semibold text-gray-900 text-xs sm:text-sm">Call Us</h5>
                    <p class="text-xs text-gray-600">+91 98765 43210</p>
                  </div>
                </div>
              </a>
              
              <a href="mailto:events@ecellfoet.com" class="help-card-hover p-4 border-2 border-purple-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all duration-300">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                  </div>
                  <div>
                    <h5 class="font-semibold text-gray-900 text-xs sm:text-sm">Email Us</h5>
                    <p class="text-xs text-gray-600">events@ecellfoet.com</p>
                  </div>
                </div>
              </a>
              
              <div class="help-card-hover p-4 border-2 border-blue-200 rounded-xl bg-blue-50">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                  </div>
                  <div>
                    <h5 class="font-semibold text-gray-900 text-xs sm:text-sm">FAQ</h5>
                    <p class="text-xs text-gray-600">Check rulebook</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      `;
      
      document.getElementById('registration-form').addEventListener('submit', handleRegistration);
      document.getElementById('registration-modal').classList.remove('hidden');
    }

    // Close registration modal
    function closeRegistrationModal() {
      document.getElementById('registration-modal').classList.add('hidden');
      currentEventId = null;
    }

    // Handle registration submission
    async function handleRegistration(e) {
      e.preventDefault();
      
      if (registrations.length >= 999) {
        showToast('Maximum registration limit reached. Please contact support.', 'error');
        return;
      }
      
      const form = e.target;
      const submitBtn = document.getElementById('submit-btn');
      
      submitBtn.disabled = true;
      submitBtn.innerHTML = `
        <svg class="w-5 h-5 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
        </svg>
        Submitting...
      `;
      
      // Collect member details
      let membersDetails = [];
      const memberFields = document.querySelectorAll('.member-field');
      for (let i = 0; i < memberFields.length; i += 4) {
        membersDetails.push({
          name: memberFields[i]?.value || '',
          email: memberFields[i + 1]?.value || '',
          phone: memberFields[i + 2]?.value || '',
          college: memberFields[i + 3]?.value || ''
        });
      }
      
      const formData = {
        event_id: currentEventId,
        participant_name: form.participant_name.value,
        email: form.email.value,
        phone: form.phone.value,
        college: form.college.value,
        course: form.course.value,
        year: form.year.value,
        team_name: form.team_name.value,
        team_size: parseInt(form.team_size.value),
        members_details: JSON.stringify(membersDetails),
        registered_at: new Date().toISOString()
      };
      
      const result = await window.dataSdk.create(formData);
      
      if (result.isOk) {
        // Show success modal with details
        const event = eventsData.find(e => e.id === currentEventId);
        showSuccessAlert(event, formData);
        
        setTimeout(() => {
          closeRegistrationModal();
        }, 2000);
      } else {
        showToast('Registration failed. Please try again.', 'error');
        submitBtn.disabled = false;
        submitBtn.innerHTML = `
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
          Submit Registration
        `;
      }
    }
    
    // Success alert modal
    function showSuccessAlert(event, formData) {
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 z-50 flex items-center justify-center p-4 animate-in';
      modal.innerHTML = `
        <div class="modal-overlay absolute inset-0"></div>
        <div class="relative bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden">
          <div class="bg-gradient-to-r from-green-500 to-emerald-500 px-6 py-8 text-center">
            <div class="mb-4">
              <svg class="w-16 h-16 text-white mx-auto animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-white mb-2">Registration Successful! ‚ú®</h3>
            <p class="text-green-100">Your registration for ${event.name} has been confirmed</p>
          </div>
          
          <div class="p-6 space-y-4">
            <div class="bg-blue-50 rounded-xl p-4 border border-blue-200">
              <h4 class="font-semibold text-gray-900 mb-3 text-blue-600">üìã Your Registration Details</h4>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                  <span class="text-gray-600">Name:</span>
                  <span class="font-medium text-gray-900">${formData.participant_name}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600">Email:</span>
                  <span class="font-medium text-gray-900">${formData.email}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600">Team:</span>
                  <span class="font-medium text-gray-900">${formData.team_name}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600">Team Size:</span>
                  <span class="font-medium text-gray-900">${formData.team_size} Members</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600">Event:</span>
                  <span class="font-medium text-gray-900">${event.name}</span>
                </div>
              </div>
            </div>
            
            <div class="bg-amber-50 rounded-xl p-4 border border-amber-200">
              <p class="text-xs text-amber-700 flex items-start gap-2">
                <svg class="w-4 h-4 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span>A confirmation email has been sent to <strong>${formData.email}</strong>. Check your inbox for event details.</span>
              </p>
            </div>
            
            <button onclick="this.closest('.fixed').remove()" class="w-full btn-primary px-4 py-3 rounded-xl font-semibold text-white transform hover:scale-105 transition-all duration-300">
              Continue
            </button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      modal.querySelector('.modal-overlay').onclick = () => modal.remove();
      
      setTimeout(() => {
        modal.remove();
      }, 5000);
    }
    


    // Add to Google Calendar
    function addToCalendar(eventId) {
      const event = eventsData.find(e => e.id === eventId);
      if (!event) return;
      
      const startDate = event.date.replace(/-/g, '');
      const endDate = startDate;
      const title = encodeURIComponent(`${event.name} - ${event.tagline}`);
      const details = encodeURIComponent(event.description);
      const location = encodeURIComponent(event.venue);
      
      const calendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${title}&dates=${startDate}/${endDate}&details=${details}&location=${location}`;
      
      window.open(calendarUrl, '_blank', 'noopener,noreferrer');
      showToast('Opening Google Calendar...', 'success');
    }

    // Check if registration is open
    function isRegistrationOpen(event) {
      return true; // All registrations open
    }
    
    // Update member fields based on team size
    function updateMembersFields() {
      const teamSize = parseInt(document.getElementById('team_size').value);
      const section = document.getElementById('members-section');
      const container = document.getElementById('members-container');
      const event = eventsData.find(e => e.id === currentEventId);
      
      document.getElementById('team-size-hint').textContent = `Team Size: ${event ? event.teamSize : 'varies by event'}`;
      
      if (teamSize <= 1) {
        section.classList.add('hidden');
        container.innerHTML = '';
      } else {
        section.classList.remove('hidden');
        container.innerHTML = '';
        
        for (let i = 2; i <= teamSize; i++) {
          const memberDiv = document.createElement('div');
          memberDiv.className = 'bg-white rounded-xl p-3 sm:p-4 border-2 border-indigo-100 animate-slide-up';
          memberDiv.style.animationDelay = `${(i - 1) * 50}ms`;
          memberDiv.innerHTML = `
            <h5 class="font-semibold text-gray-900 mb-3 text-indigo-600 text-sm sm:text-base">Member ${i}</h5>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3">
              <input type="text" placeholder="Full Name" class="member-field px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 text-xs sm:text-sm" required>
              <input type="email" placeholder="Email Address" class="member-field px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 text-xs sm:text-sm" required>
              <input type="tel" placeholder="Contact Number" class="member-field px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 text-xs sm:text-sm" required>
              <input type="text" placeholder="College" class="member-field px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 text-xs sm:text-sm" required>
            </div>
          `;
          container.appendChild(memberDiv);
        }
      }
    }

    // Format date
    function formatDate(dateStr) {
      const date = new Date(dateStr);
      return date.toLocaleDateString('en-IN', { day: 'numeric', month: 'short', year: 'numeric' });
    }

    // Update registration counts
    function updateRegistrationCounts() {
      document.getElementById('total-registrations').textContent = registrations.length;
      renderEvents();
    }

    // Show toast notification
    function showToast(message, type = 'success') {
      const container = document.getElementById('toast-container');
      const toast = document.createElement('div');
      toast.className = `px-6 py-4 rounded-xl shadow-lg flex items-center gap-3 transform transition-all duration-300 translate-x-full ${
        type === 'success' ? 'bg-green-500 text-white' : 'bg-red-500 text-white'
      }`;
      toast.innerHTML = `
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          ${type === 'success' 
            ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>'
            : '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>'}
        </svg>
        <span class="font-medium">${message}</span>
      `;
      container.appendChild(toast);
      
      setTimeout(() => toast.classList.remove('translate-x-full'), 10);
      setTimeout(() => {
        toast.classList.add('translate-x-full');
        setTimeout(() => toast.remove(), 300);
      }, 4000);
    }

    // Element SDK implementation
    async function onConfigChange(cfg) {
      config = { ...defaultConfig, ...cfg };
      
      document.getElementById('portal-title').textContent = config.portal_title || defaultConfig.portal_title;
      if (document.getElementById('contact-email-text')) {
        document.getElementById('contact-email-text').textContent = config.contact_email || defaultConfig.contact_email;
      }
      if (document.getElementById('contact-email-link')) {
        document.getElementById('contact-email-link').href = `mailto:${config.contact_email || defaultConfig.contact_email}`;
      }
    }

    // Initialize
    async function init() {
      await window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (cfg) => ({
          recolorables: [
            {
              get: () => cfg.primary_color || defaultConfig.primary_color,
              set: (v) => { cfg.primary_color = v; window.elementSdk.setConfig({ primary_color: v }); }
            },
            {
              get: () => cfg.secondary_color || defaultConfig.secondary_color,
              set: (v) => { cfg.secondary_color = v; window.elementSdk.setConfig({ secondary_color: v }); }
            },
            {
              get: () => cfg.background_color || defaultConfig.background_color,
              set: (v) => { cfg.background_color = v; window.elementSdk.setConfig({ background_color: v }); }
            },
            {
              get: () => cfg.text_color || defaultConfig.text_color,
              set: (v) => { cfg.text_color = v; window.elementSdk.setConfig({ text_color: v }); }
            },
            {
              get: () => cfg.accent_color || defaultConfig.accent_color,
              set: (v) => { cfg.accent_color = v; window.elementSdk.setConfig({ accent_color: v }); }
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (cfg) => new Map([
          ['portal_title', cfg.portal_title || defaultConfig.portal_title],
          ['contact_email', cfg.contact_email || defaultConfig.contact_email]
        ])
      });

      const dataResult = await window.dataSdk.init(dataHandler);
      if (!dataResult.isOk) {
        console.error('Failed to initialize data SDK');
      }
      
      renderEvents();
    }

    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c988012e39d5649',t:'MTc3MDM1ODM5My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
